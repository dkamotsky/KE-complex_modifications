{
    "title": "Personal dkamotsky Caps-Lock Remapping",
    "rules": [

	{
	    "description": "Map Caps-Lock to Command NOT Emacs",
	    "manipulators": [
		{
		    "type": "basic",
		    "from": { "key_code": "caps_lock",
			      "modifiers": {
				  "optional": ["any"]
			      }			    
			    },
		    "to": [
			{
			    "key_code": "left_command"
			}	    
		    ],
		    "conditions": [
			{
			    "type": "frontmost_application_unless",
			    "bundle_identifiers": ["^org.gnu.Emacs$",
                                                   "^org.eclipse.*$"]
			},
			{
			    "type": "device_unless",
			    "identifiers": [
				{
				    "vendor_id": 2539,
				    "product_id": 305
				}
			    ]
			}			
		    ]		  
		}
	    ]
	},
	

	{
	    "description": "Map Caps-Lock to Control WHEN Emacs",
	    "manipulators": [
		{
		    "type": "basic",
		    "from": { "key_code": "caps_lock",
			      "modifiers": {
				  "optional": ["any"]
			      }			    
			    },
		    "to": [
			{
			    "key_code": "left_control"
			}	    
		    ],
		    "conditions": [
			{
			    "type": "frontmost_application_if",
			    "bundle_identifiers": ["^org.gnu.Emacs$",
                                                   "^org.eclipse.*$"]
			},
			{
			    "type": "device_unless",
			    "identifiers": [
				{
				    "vendor_id": 2539,
				    "product_id": 305
				}
			    ]
			}						
		    ]		  
		}
	    ]
	},

	
	{
	    "description": "Map Caps-Lock to fn WHEN Sun Type-5",
	    "manipulators": [
		{
		    "type": "basic",
		    "from": { "key_code": "caps_lock",
			      "modifiers": {
				  "optional": ["any"]
			      }			    
			    },
		    "to": [
			{
			    "key_code": "fn"
			}	    
		    ],
		    "conditions": [
			{
			    "type": "device_if",
			    "identifiers": [
				{
				    "vendor_id": 2539,
				    "product_id": 305
				}
			    ]
			}		      
		    ]		  
		}
	    ]
	}
	
    ]
}
